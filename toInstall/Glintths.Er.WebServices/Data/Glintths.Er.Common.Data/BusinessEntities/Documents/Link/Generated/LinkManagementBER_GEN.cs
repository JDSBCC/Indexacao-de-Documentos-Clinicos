
using System;
using System.Data;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.Globalization;
using System.Runtime.Remoting.Messaging;
using Cpchs.Eresults.Common.WCF.BusinessEntities;
using CPCHS.Common.BusinessEntities;
using Microsoft.Practices.EnterpriseLibrary.Data;
using Microsoft.Practices.EnterpriseLibrary.Caching;
using Microsoft.Practices.EnterpriseLibrary.Caching.Expirations;
using Microsoft.Practices.EnterpriseLibrary.Logging;
using Microsoft.Practices.EnterpriseLibrary.ExceptionHandling;

namespace Cpchs.Eresults.Common.WCF.BusinessEntities.Generated
{
    /// <summary>
    /// Date Created: quinta-feira, 7 de Outubro de 2010
    /// Created By: Generated by CodeSmith
	/// Template Created By: CPCHS psilva, 2005
    /// </summary>
	[System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Naming", "CA1704:IdentifiersShouldBeSpelledCorrectly"), System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Naming", "CA1705:LongAcronymsShouldBePascalCased"), System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Naming", "CA1707:IdentifiersShouldNotContainUnderscores"), Serializable]
    public abstract class LinkManagementBER_GEN : CommonBER
    {
		[System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Usage", "CA2235:MarkAllNonSerializableFields"), System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Naming", "CA1704:IdentifiersShouldBeSpelledCorrectly"), System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Design", "CA1051:DoNotDeclareVisibleInstanceFields")]
		protected Microsoft.Practices.EnterpriseLibrary.Data.Database dal;	
		
		#region Variables
		#endregion
	
		protected LinkManagementBER_GEN()
		{
			/*try
			{
				dal=DatabaseFactory.CreateDatabase("DocumentsWCF");
			}
			catch 
			{	
				dal = DatabaseFactory.CreateDatabase();
			}*/
	
		}
	
    #region TABLES OPERATIONS
	
		#region Cache LINK
		#endregion
	
	
		#region Select LINK Operations
		//
		//SELECT OPERATIONS LINK
		//
		//
		//
		//
		public virtual LinkList GetDocumentLinks(string companyDB, long docId )
		{
			IDataReader reader = GetDocumentLinksDB(companyDB, docId );
			LinkList list = new LinkList();
			while(reader.Read())
			{
				try
    			{
					list.Add(new Link(reader, companyDB));
				}
				catch(Exception ex)
				{
					// Quick Start is configured so that the Propagate Policy will
           			// log the exception and then recommend a rethrow.
            		bool rethrow = ExceptionPolicy.HandleException(ex, "Business Entities Exception Policy");
            		if (rethrow)
            		{
            			throw;
            			} 
				}
			} 
			reader.Close();
			return list;
		}
		
		//
		//
		//
		public virtual Link GetLinkByElementId(string companyDB, long linkElemId)
		{
			IDataReader reader = GetLinkByElementIdDB(companyDB, linkElemId);
			Link obj = null;
			if(reader.Read())
			{
				try
      			{
					obj = new Link(reader, companyDB);
				}
				catch(Exception ex)
				{
					// Quick Start is configured so that the Propagate Policy will
            		// log the exception and then recommend a rethrow.
            		bool rethrow = ExceptionPolicy.HandleException(ex, "Business Entities Exception Policy");
            		if (rethrow)
            		{
	           		 	throw;
  	          		} 
				}
			} 
			reader.Close();

			return obj;
		}
		
		
		//
		// DB
		//
		protected virtual string GetDocumentLinksDBMethod(string companyDB)
		{
			string proc = GetDocumentLinksDBMethodName;
            string package = GetDocumentLinksDBPackageName;
			
			dal = CPCHS.Common.Database.Database.GetDatabase("DocumentsWCF", companyDB);
            
            proc = GetDBMethod(dal, proc, package);
			
			return proc;
		}
		
		protected virtual string GetDocumentLinksDBMethodName
		{
            get { return "GetDocumentLinks"; }
        }
		
        protected virtual string GetDocumentLinksDBPackageName
		{
            get { return "PCK_DOCUMENTS_LINK_GEN"; }
        }

		
		protected virtual IDataReader GetDocumentLinksDB(string companyDB, long docId )
		{
			IDataReader ret = null;
			try
      		{
				string dbMethod = GetDocumentLinksDBMethod(companyDB);
                DbCommand dbCommand;
                
                dbCommand = GetStoredProcCommand(dal, dbMethod, docId , DBNull.Value);
                ret = dal.ExecuteReader(dbCommand);
                
                
			}
			catch(Exception ex)
			{
			  	// Quick Start is configured so that the Propagate Policy will
        		// log the exception and then recommend a rethrow.
        		bool rethrow = ExceptionPolicy.HandleException(ex, "Database Exception Policy");
        		if (rethrow)
        		{
        			throw;
        		} 
			}
			return ret;
		}
		
		//
		// DB
		//
		protected virtual string GetLinkByElementIdDBMethod(string companyDB)
		{
			string proc = GetLinkByElementIdDBMethodName;
            string package = GetLinkByElementIdDBPackageName;
			
			dal = CPCHS.Common.Database.Database.GetDatabase("DocumentsWCF", companyDB);
            
            proc = GetDBMethod(dal, proc, package);
			
			return proc;
		}
		
		protected virtual string GetLinkByElementIdDBMethodName
		{
            get { return "GetLinkByElementId"; }
        }
		
        protected virtual string GetLinkByElementIdDBPackageName
		{
            get { return "PCK_DOCUMENTS_LINK_GEN"; }
        }

		
		protected virtual IDataReader GetLinkByElementIdDB(string companyDB, long linkElemId)
		{
			IDataReader ret = null;
			try
      		{
				string dbMethod = GetLinkByElementIdDBMethod(companyDB);
                DbCommand dbCommand;
                
                dbCommand = GetStoredProcCommand(dal, dbMethod, linkElemId, DBNull.Value);
                ret = dal.ExecuteReader(dbCommand);
                
                
			}
			catch(Exception ex)
			{
			  	// Quick Start is configured so that the Propagate Policy will
        		// log the exception and then recommend a rethrow.
        		bool rethrow = ExceptionPolicy.HandleException(ex, "Database Exception Policy");
        		if (rethrow)
        		{
        			throw;
        		} 
			}
			return ret;
		}
		

		#endregion
		
		#region Cache LINKTYPE
		#endregion
	
	
		#region Cache LINKTYPEARG
		#endregion
	
	
		#region Select LINKTYPEARG Operations
		//
		//SELECT OPERATIONS LINKTYPEARG
		//
		//
		//
		//
		public virtual LinkTypeArgList GetAllLinkTypeArguments(string companyDB)
		{
			IDataReader reader = GetAllLinkTypeArgumentsDB(companyDB);
			LinkTypeArgList list = new LinkTypeArgList();
			while(reader.Read())
			{
				try
    			{
					list.Add(new LinkTypeArg(reader, companyDB));
				}
				catch(Exception ex)
				{
					// Quick Start is configured so that the Propagate Policy will
           			// log the exception and then recommend a rethrow.
            		bool rethrow = ExceptionPolicy.HandleException(ex, "Business Entities Exception Policy");
            		if (rethrow)
            		{
            			throw;
            			} 
				}
			} 
			reader.Close();
			return list;
		}
		
		
		//
		// DB
		//
		protected virtual string GetAllLinkTypeArgumentsDBMethod(string companyDB)
		{
			string proc = GetAllLinkTypeArgumentsDBMethodName;
            string package = GetAllLinkTypeArgumentsDBPackageName;
			
			dal = CPCHS.Common.Database.Database.GetDatabase("DocumentsWCF", companyDB);
            
            proc = GetDBMethod(dal, proc, package);
			
			return proc;
		}
		
		protected virtual string GetAllLinkTypeArgumentsDBMethodName
		{
            get { return "GetAllLinkTypeArguments"; }
        }
		
        protected virtual string GetAllLinkTypeArgumentsDBPackageName
		{
            get { return "PCK_DOCUMENTS_LINK_GEN"; }
        }

		
		protected virtual IDataReader GetAllLinkTypeArgumentsDB(string companyDB)
		{
			IDataReader ret = null;
			try
      		{
				string dbMethod = GetAllLinkTypeArgumentsDBMethod(companyDB);
                DbCommand dbCommand;
                
                dbCommand = GetStoredProcCommand(dal, dbMethod, DBNull.Value);
                ret = dal.ExecuteReader(dbCommand);
                
                
			}
			catch(Exception ex)
			{
			  	// Quick Start is configured so that the Propagate Policy will
        		// log the exception and then recommend a rethrow.
        		bool rethrow = ExceptionPolicy.HandleException(ex, "Database Exception Policy");
        		if (rethrow)
        		{
        			throw;
        		} 
			}
			return ret;
		}
		

		#endregion
		
		#region Cache LINKPARAM
		#endregion
	
	
		#region Select LINKPARAM Operations
		//
		//SELECT OPERATIONS LINKPARAM
		//
		//
		//
		//
		public virtual LinkParamList GetDocumentLinksParams(string companyDB, long docId )
		{
			IDataReader reader = GetDocumentLinksParamsDB(companyDB, docId );
			LinkParamList list = new LinkParamList();
			while(reader.Read())
			{
				try
    			{
					list.Add(new LinkParam(reader, companyDB));
				}
				catch(Exception ex)
				{
					// Quick Start is configured so that the Propagate Policy will
           			// log the exception and then recommend a rethrow.
            		bool rethrow = ExceptionPolicy.HandleException(ex, "Business Entities Exception Policy");
            		if (rethrow)
            		{
            			throw;
            			} 
				}
			} 
			reader.Close();
			return list;
		}
		
		//
		//
		//
		public virtual LinkParamList GetLinkByElementIdParams(string companyDB, long linkParamElemId)
		{
			IDataReader reader = GetLinkByElementIdParamsDB(companyDB, linkParamElemId);
			LinkParamList list = new LinkParamList();
			while(reader.Read())
			{
				try
    			{
					list.Add(new LinkParam(reader, companyDB));
				}
				catch(Exception ex)
				{
					// Quick Start is configured so that the Propagate Policy will
           			// log the exception and then recommend a rethrow.
            		bool rethrow = ExceptionPolicy.HandleException(ex, "Business Entities Exception Policy");
            		if (rethrow)
            		{
            			throw;
            			} 
				}
			} 
			reader.Close();
			return list;
		}
		
		
		//
		// DB
		//
		protected virtual string GetDocumentLinksParamsDBMethod(string companyDB)
		{
			string proc = GetDocumentLinksParamsDBMethodName;
            string package = GetDocumentLinksParamsDBPackageName;
			
			dal = CPCHS.Common.Database.Database.GetDatabase("DocumentsWCF", companyDB);
            
            proc = GetDBMethod(dal, proc, package);
			
			return proc;
		}
		
		protected virtual string GetDocumentLinksParamsDBMethodName
		{
            get { return "GetDocumentLinksParams"; }
        }
		
        protected virtual string GetDocumentLinksParamsDBPackageName
		{
            get { return "PCK_DOCUMENTS_LINK_GEN"; }
        }

		
		protected virtual IDataReader GetDocumentLinksParamsDB(string companyDB, long docId )
		{
			IDataReader ret = null;
			try
      		{
				string dbMethod = GetDocumentLinksParamsDBMethod(companyDB);
                DbCommand dbCommand;
                
                dbCommand = GetStoredProcCommand(dal, dbMethod, docId , DBNull.Value);
                ret = dal.ExecuteReader(dbCommand);
                
                
			}
			catch(Exception ex)
			{
			  	// Quick Start is configured so that the Propagate Policy will
        		// log the exception and then recommend a rethrow.
        		bool rethrow = ExceptionPolicy.HandleException(ex, "Database Exception Policy");
        		if (rethrow)
        		{
        			throw;
        		} 
			}
			return ret;
		}
		
		//
		// DB
		//
		protected virtual string GetLinkByElementIdParamsDBMethod(string companyDB)
		{
			string proc = GetLinkByElementIdParamsDBMethodName;
            string package = GetLinkByElementIdParamsDBPackageName;
			
			dal = CPCHS.Common.Database.Database.GetDatabase("DocumentsWCF", companyDB);
            
            proc = GetDBMethod(dal, proc, package);
			
			return proc;
		}
		
		protected virtual string GetLinkByElementIdParamsDBMethodName
		{
            get { return "GetLinkByElementIdParams"; }
        }
		
        protected virtual string GetLinkByElementIdParamsDBPackageName
		{
            get { return "PCK_DOCUMENTS_LINK_GEN"; }
        }

		
		protected virtual IDataReader GetLinkByElementIdParamsDB(string companyDB, long linkParamElemId)
		{
			IDataReader ret = null;
			try
      		{
				string dbMethod = GetLinkByElementIdParamsDBMethod(companyDB);
                DbCommand dbCommand;
                
                dbCommand = GetStoredProcCommand(dal, dbMethod, linkParamElemId, DBNull.Value);
                ret = dal.ExecuteReader(dbCommand);
                
                
			}
			catch(Exception ex)
			{
			  	// Quick Start is configured so that the Propagate Policy will
        		// log the exception and then recommend a rethrow.
        		bool rethrow = ExceptionPolicy.HandleException(ex, "Database Exception Policy");
        		if (rethrow)
        		{
        			throw;
        		} 
			}
			return ret;
		}
		

		#endregion
		
    
    #endregion
    
    #region OBJECTS OPERATIONS
    
    #endregion
	
    }
}


